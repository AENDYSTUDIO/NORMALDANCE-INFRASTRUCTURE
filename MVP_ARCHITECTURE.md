# Архитектура MVP Normal Dance с музыкальными токенами

## Обзор

MVP Normal Dance представляет собой упрощенную версию платформы для музыки на блокчейне Solana с интеграцией музыкальных токенов. Архитектура спроектирована на 70% проще оригинальной версии с фокусом на ключевую функциональность токеномики.

## Архитектурные принципы

### Упрощения MVP
- **70% меньше кода** по сравнению с полной версией
- **Фокус на токеномики** - пользователи зарабатывают на музыке
- **Минимальный UI** - только ключевые компоненты
- **Упрощенная база данных** - только основные модели

## Компоненты системы

### 1. Смарт-контракты (Solana + Anchor)
```
contracts/
├── music-token.rs          # SPL токен для музыки
├── scripts/
│   └── initialize-token.ts # Деплой токена
└── package.json           # Зависимости
```

**Ключевые особенности:**
- SPL токен с дефляционной моделью (2% сжигание)
- Минтинг токенов за прослушивание музыки
- Стакинг для дополнительных наград

### 2. База данных (Prisma + SQLite)
```
prisma/
├── mvp-schema.prisma           # Упрощенная схема
└── mvp-schema-with-tokens.prisma # С интеграцией токенов
```

**Основные модели:**
- User (пользователи)
- Track (музыкальные треки)
- MusicToken (токены пользователей)
- Staking (стакинг токенов)

### 3. Backend API (Next.js API Routes)
```
src/app/api/
├── rewards/        # Получение наград
├── staking/        # Стакинг токенов
└── tokens/         # Управление токенами
```

### 4. Frontend (Next.js + TypeScript)
```
src/components/
├── token/          # Компоненты токенов
├── staking/        # Компоненты стакинга
└── wallet/         # Интеграция кошелька
```

## Токеномика

### Музыкальные токены (MUSIC)
- **Символ:** MUSIC
- **Децималс:** 9
- **Общая эмиссия:** 1,000,000,000 токенов
- **Дефляция:** 2% сжигание на всех транзакциях

### Механика наград
1. **Прослушивание музыки:** +1 токен за полное прослушивание
2. **Артисты:** +10 токенов за загрузку трека
3. **Кураторы:** +5 токенов за верификацию контента

### Стакинг
- **Минимальный период:** 7 дней
- **APY:** 15% годовых
- **Бонус за лояльность:** +5% для холдеров > 30 дней

## Технический стек

### Core технологии
- **Блокчейн:** Solana (Anchor framework)
- **Токены:** SPL Token стандарт
- **Backend:** Next.js 15 API Routes
- **Frontend:** React 18 + TypeScript
- **База данных:** SQLite + Prisma
- **Деплой:** Vercel

### Инфраструктура
- **RPC:** Helius RPC для Solana
- **IPFS:** Pinata для метаданных
- **Мониторинг:** Vercel Analytics

## Безопасность

### MVP уровень
- **Валидация входных данных** на всех эндпоинтах
- **Rate limiting** для API
- **CORS** настройка для фронтенда
- **Валидация токенов** перед операциями

## Масштабируемость

### Подготовка к росту
- **Модульная архитектура** для легкого добавления фич
- **Отдельные конфиги** для разных сред
- **Мониторинг** готовность к продакшену

## Следующие этапы после MVP

1. **Phase 1:** Развертывание токена на mainnet
2. **Phase 2:** Интеграция с музыкальными платформами
3. **Phase 3:** Расширенная токеномика
4. **Phase 4:** Мобильное приложение

## Заключение

Архитектура MVP обеспечивает быстрый запуск с фокусом на токеномики, позволяя пользователям зарабатывать на музыке уже через 2-3 недели разработки.