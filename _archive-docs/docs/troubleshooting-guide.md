# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ troubleshooting –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

## üìã –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ —Ä–µ—à–µ–Ω–∏—é —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–≥—É—Ç —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NORMAL DANCE v1.0.1. –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø—Ä–æ–±–ª–µ–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ä–µ—à–µ–Ω–∏–π.

### üéØ –¶–µ–ª–∏
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—à–∞–≥–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Å—Ç–æ—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º
1. **–ü—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
2. **–ü—Ä–æ–±–ª–µ–º—ã –∞—É–¥–∏–æ** - –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º –∑–≤—É–∫–∞
3. **–ü—Ä–æ–±–ª–µ–º—ã –∫–æ—à–µ–ª—å–∫–∞** - –ø—Ä–æ–±–ª–µ–º—ã —Å Web3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
4. **–ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
5. **–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
6. **–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
7. **–ü—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º

## üîå –ü—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°–∞–π—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É "–°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
- –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 30 —Å–µ–∫—É–Ω–¥
- –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞
curl -I https://normaldance.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup normaldance.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ping
ping normaldance.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
telnet normaldance.com 443
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
   sudo systemctl status nginx
   sudo systemctl status normaldance-api
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   sudo tail -f /var/log/nginx/error.log
   sudo tail -f /var/log/normaldance/error.log
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤**
   ```bash
   sudo systemctl restart nginx
   sudo systemctl restart normaldance-api
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**
   ```bash
   openssl s_client -connect normaldance.com:443 -servername normaldance.com
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ CDN**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞ CDN
   curl -H "Cache-Control: no-cache" https://normaldance.com
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å—ã
- –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
const socket = new WebSocket('wss://normaldance.com/socket.io');
socket.onopen = () => console.log('WebSocket connected');
socket.onerror = (error) => console.log('WebSocket error:', error);
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket —Å–µ—Ä–≤–µ—Ä–∞**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   sudo systemctl status normaldance-websocket
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   sudo tail -f /var/log/normaldance/websocket.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
   sudo netstat -tlnp | grep 3001
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
   sudo ufw status
   sudo ufw allow 3001
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx**
   ```nginx
   # /etc/nginx/sites-available/normaldance
   location /socket.io/ {
       proxy_pass http://localhost:3001;
       proxy_http_version 1.1;
       proxy_set_header Upgrade $http_upgrade;
       proxy_set_header Connection "upgrade";
       proxy_set_header Host $host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header X-Forwarded-Proto $scheme;
   }
   ```

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ wscat –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   npm install -g wscat
   wscat -c wss://normaldance.com/socket.io
   ```

## üéµ –ü—Ä–æ–±–ª–µ–º—ã –∞—É–¥–∏–æ

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –¢—Ä–µ–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–ª–µ–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, –Ω–æ —Ç—Ä–µ–∫ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
- –ó–≤—É–∫ –Ω–µ —Å–ª—ã—à–µ–Ω
- –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç–∞
const audio = document.querySelector('audio');
console.log(audio.error);
console.log(audio.src);
console.log(audio.readyState);
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
   ls -la /var/normaldance/uploads/tracks/
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
   ls -la /var/normaldance/uploads/tracks/track_123.mp3
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞
   file /var/normaldance/uploads/tracks/track_123.mp3
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É–¥–∏–æ —Å–µ—Ä–≤–∏—Å–∞**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   sudo systemctl status normaldance-audio
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   sudo tail -f /var/log/normaldance/audio.log
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∞—É–¥–∏–æ**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–º
   const audio = new Audio();
   console.log(audio.canPlayType('audio/mpeg'));
   console.log(audio.canPlayType('audio/ogg'));
   console.log(audio.canPlayType('audio/wav'));
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞
   const audioContext = new (window.AudioContext || window.webkitAudioContext)();
   const analyser = audioContext.createAnalyser();
   const source = audioContext.createMediaElementSource(audio);
   source.connect(analyser);
   analyser.connect(audioContext.destination);
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ó–≤—É–∫ —Ö—Ä–∏–ø–∏—Ç
- –ü—Ä–æ–ø–∞–¥–∞–µ—Ç –∑–≤—É–∫
- –ó–∞–¥–µ—Ä–∂–∫–∞ –∑–≤—É–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∞—É–¥–∏–æ**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏—Ç—Ä–µ–π—Ç–∞
   ffprobe -v quiet -print_format json -show_format -show_streams /var/normaldance/uploads/tracks/track_123.mp3 | jq '.format.bit_rate'
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Å—Ç–æ—Ç—ã –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏
   ffprobe -v quiet -print_format json -show_format -show_streams /var/normaldance/uploads/tracks/track_123.mp3 | jq '.streams[0].sample_rate'
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
   speedtest-cli
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∏–Ω–≥–∞
   ping -c 4 normaldance.com
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞**
   ```javascript
   // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–≤—É–∫–∞
   const audio = new Audio();
   audio.preload = 'auto';
   audio.src = 'https://normaldance.com/audio/track_123.mp3';
   
   // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É—Ñ–µ—Ä–∞
   audio.buffered = true;
   audio.crossOrigin = 'anonymous';
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ CDN**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ CDN
   curl -I https://cdn.normaldance.com/audio/track_123.mp3
   ```

## üí∞ –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—à–µ–ª—å–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ö–æ—à–µ–ª–µ–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –û—à–∏–±–∫–∞ "–ö–æ—à–µ–ª–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ—à–µ–ª—å–∫–∞
if (window.solana) {
  console.log('Phantom wallet found');
} else {
  console.log('Phantom wallet not found');
}
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ—à–µ–ª—å–∫–∞**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Phantom –∫–æ—à–µ–ª–µ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –∫–æ—à–µ–ª—å–∫–∞ (–ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ—à–µ–ª–µ–∫ –≤–∫–ª—é—á–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –±—Ä–∞—É–∑–µ—Ä–∞**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
   console.log(navigator.permissions.query({ name: 'wallet' }));
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   console.log(window.solana);
   console.log(window.solana.isPhantom);
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ RPC URL**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ RPC URL
   const connection = new solana.Connection('https://api.mainnet-beta.solana.com');
   console.log(connection.rpcEndpoint);
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏—Å–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ "Pending"
- –ù–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –û—à–∏–±–∫–∞ "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞"

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
const connection = new solana.Connection('https://api.mainnet-beta.solana.com');
const signature = '—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è_—Å–∏–≥–Ω–∞—Ç—É—Ä–∞';
connection.confirmTransaction(signature, 'confirmed')
  .then(res => console.log(res))
  .catch(err => console.log(err));
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ç–∏**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Solana
   curl https://api.mainnet-beta.solana.com
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ç–∏
   curl https://api.mainnet-beta.solana.com -H "Content-Type: application/json" -d '{"jsonrpc":"2.0","id":1,"method":"getRecentBlockhash","params":[]}'
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∞–∑–∞**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∞–∑–∞
   const connection = new solana.Connection('https://api.mainnet-beta.solana.com');
   connection.getRecentBlockhash().then(res => {
     console.log('Recent blockhash:', res.blockhash);
     console.log('Fee calculator:', res.feeCalculator);
   });
   ```

3. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
   ```javascript
   // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   const connection = new solana.Connection('https://api.mainnet-beta.solana.com');
   const transaction = new Transaction();
   // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
   connection.sendTransaction(transaction, [signer])
     .then(signature => {
       console.log('Transaction sent:', signature);
     })
     .catch(err => {
       console.log('Error sending transaction:', err);
     });
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
   const connection = new solana.Connection('https://api.mainnet-beta.solana.com');
   connection.getBalance(publicKey)
     .then(balance => {
       console.log('Balance:', balance / 1e9, 'SOL');
     })
     .catch(err => {
       console.log('Error getting balance:', err);
     });
   ```

## üóÑÔ∏è –ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ
- API –æ—Ç–≤–µ—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –û—à–∏–±–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
SELECT query, mean_time, calls
FROM pg_stat_statements
ORDER BY mean_time DESC
LIMIT 10;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
SELECT blocked_locks.pid AS blocked_pid,
         blocked_activity.usename AS blocked_user,
         blocking_locks.pid AS blocking_pid,
         blocking_activity.usename AS blocking_user,
         blocked_activity.query AS blocked_statement,
         blocking_activity.query AS current_statement_in_blocking_process,
         blocked_locks.mode AS blocked_mode,
         blocking_locks.mode AS current_mode_in_blocking_process
FROM pg_catalog.pg_locks blocked_locks
    JOIN pg_catalog.pg_stat_activity blocked_activity ON blocked_activity.pid = blocked_locks.pid
    JOIN pg_catalog.pg_locks blocking_locks
        ON blocking_locks.locktype = blocked_locks.locktype
        AND blocking_locks.DATABASE IS NOT DISTINCT FROM blocked_locks.DATABASE
        AND blocking_locks.relation IS NOT DISTINCT FROM blocked_locks.relation
        AND blocking_locks.page IS NOT DISTINCT FROM blocked_locks.page
        AND blocking_locks.tuple IS NOT DISTINCT FROM blocked_locks.tuple
        AND blocking_locks.virtualxid IS NOT DISTINCT FROM blocked_locks.virtualxid
        AND blocking_locks.transactionid IS NOT DISTINCT FROM blocked_locks.transactionid
        AND blocking_locks.classid IS NOT DISTINCT FROM blocked_locks.classid
        AND blocking_locks.objid IS NOT DISTINCT FROM blocked_locks.objid
        AND blocking_locks.objsubid IS NOT DISTINCT FROM blocked_locks.objsubid
        AND blocking_locks.pid != blocked_locks.pid
    JOIN pg_catalog.pg_stat_activity blocking_activity ON blocking_activity.pid = blocking_locks.pid
WHERE NOT blocked_locks.GRANTED;
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤**
   ```sql
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
   SELECT schemaname, tablename, attname, indexdef
   FROM pg_stat_user_indexes
   JOIN pg_index ON indexrelid = indexrelid
   JOIN pg_attribute ON attrelid = indrelid AND attnum = ANY(indkey)
   WHERE indisunique = false AND indisprimary = false
   ORDER BY schemaname, tablename, attname;
   
   -- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
   CREATE INDEX idx_tracks_created_at ON tracks(created_at);
   CREATE INDEX idx_tracks_artist_id ON tracks(artist_id);
   CREATE INDEX idx_users_email ON users(email);
   ```

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**
   ```sql
   -- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EXPLAIN ANALYZE
   EXPLAIN ANALYZE SELECT * FROM tracks WHERE artist_id = '123';
   
   -- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JOIN
   EXPLAIN ANALYZE SELECT t.*, u.username 
   FROM tracks t 
   JOIN users u ON t.artist_id = u.id 
   WHERE t.genre = 'electronic';
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   ```sql
   -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   ANALYZE tracks;
   ANALYZE users;
   ANALYZE nfts;
   
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   SELECT schemaname, tablename, attname, n_distinct, correlation
   FROM pg_stats
   WHERE tablename IN ('tracks', 'users', 'nfts');
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   pgbench -i normaldance
   pgbench -c 10 -j 2 -t 1000 normaldance
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ "Connection refused"
- –û—à–∏–±–∫–∞ "Timeout"
- –û—à–∏–±–∫–∞ "Too many connections"

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PostgreSQL**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   sudo systemctl status postgresql
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   sudo tail -f /var/log/postgresql/postgresql-14-main.log
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
   sudo netstat -tlnp | grep 5432
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   sudo cat /etc/postgresql/14/main/postgresql.conf | grep -E 'max_connections|shared_buffers|effective_cache_size'
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
   sudo -u postgres psql -c "SELECT count(*) FROM pg_stat_activity WHERE state = 'active';"
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
   ```javascript
   // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma connection pool
   datasource db {
     provider = "postgresql"
     url      = env("DATABASE_URL")
     pool_size = 10
     connection_limit = 20
     connection_timeout = 30
     idle_timeout = 300
     max_lifetime = 3600
   }
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
   free -h
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞
   df -h
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ CPU
   top -p $(pgrep postgres)
   ```

## ‚ö° –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ
- –ó–∞–¥–µ—Ä–∂–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CPU
top -p $(pgrep normaldance)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep normaldance

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
strace -p $(pgrep normaldance)
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞**
   ```javascript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
   const cache = new Map();
   
   function getCachedData(key) {
     if (cache.has(key)) {
       return cache.get(key);
     }
     
     const data = fetchData(key);
     cache.set(key, data);
     return data;
   }
   
   // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤
   const optimizedLoop = (data) => {
     const result = new Array(data.length);
     for (let i = 0; i < data.length; i++) {
       result[i] = processData(data[i]);
     }
     return result;
   };
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
   console.log(process.memoryUsage());
   
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞
   console.log('Cache size:', cache.size);
   
   // –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
   if (cache.size > 1000) {
     cache.clear();
   }
   ```

3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
   ```yaml
   # Kubernetes HPA
   apiVersion: autoscaling/v2
   kind: HorizontalPodAutoscaler
   metadata:
     name: normaldance-hpa
   spec:
     scaleTargetRef:
       apiVersion: apps/v1
       kind: Deployment
       name: normaldance
     minReplicas: 2
     maxReplicas: 10
     metrics:
     - type: Resource
       resource:
         name: cpu
         target:
           type: Utilization
           averageUtilization: 70
   ```

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
   ```sql
   -- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
   EXPLAIN ANALYZE SELECT * FROM tracks WHERE created_at > NOW() - INTERVAL '7 days';
   
   -- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
   CREATE MATERIALIZED VIEW mv_weekly_stats AS
   SELECT 
     DATE_TRUNC('week', created_at) as week,
     COUNT(*) as track_count,
     SUM(play_count) as total_plays
   FROM tracks
   GROUP BY DATE_TRUNC('week', created_at);
   
   -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
   REFRESH MATERIALIZED VIEW mv_weekly_stats;
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–æ–ª–µ–µ 3 —Å–µ–∫—É–Ω–¥
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É—Ö–æ–¥—è—Ç —Å —Å–∞–π—Ç–∞
- –ù–∏–∑–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   ```javascript
   // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   const optimizeImage = async (imageUrl) => {
     const response = await fetch(imageUrl);
     const blob = await response.blob();
     const optimizedBlob = await compressImage(blob);
     return URL.createObjectURL(optimizedBlob);
   };
   
   // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   const LazyImage = ({ src, alt }) => {
     const [imageSrc, setImageSrc] = useState(null);
     
     useEffect(() => {
       const img = new Image();
       img.src = src;
       img.onload = () => setImageSrc(src);
     }, [src]);
     
     return imageSrc ? <img src={imageSrc} alt={alt} /> : <div>Loading...</div>;
   };
   ```

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JavaScript**
   ```javascript
   // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
   const LazyComponent = React.lazy(() => import('./LazyComponent'));
   
   // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞
   const preloadComponent = () => {
     import('./LazyComponent');
   };
   
   // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–æ–≤
   const config = {
     optimization: {
       splitChunks: {
         chunks: 'all',
         minSize: 30000,
         maxSize: 0,
         minChunks: 1,
         maxAsyncRequests: 5,
         maxInitialRequests: 3,
         automaticNameDelimiter: '~',
         cacheGroups: {
           vendors: {
             test: /[\\/]node_modules[\\/]/,
             priority: -10
           },
           default: {
             minChunks: 2,
             priority: -20,
             reuseExistingChunk: true
           }
         }
       }
     }
   };
   ```

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS**
   ```css
   /* Critical CSS */
   .critical-css {
     /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã—à–µ —Å–∫–ª–∞–¥–∞ */
   }
   
   /* Non-critical CSS */
   .non-critical-css {
     /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∏–∂–µ —Å–∫–ª–∞–¥–∞ */
   }
   
   /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —à—Ä–∏—Ñ—Ç–æ–≤ */
   @font-face {
     font-family: 'CustomFont';
     src: url('fonts/custom-font.woff2') format('woff2');
     font-display: swap;
   }
   ```

4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   ```javascript
   // Service Worker
   const CACHE_NAME = 'normaldance-v1';
   const urlsToCache = [
     '/',
     '/static/js/bundle.js',
     '/static/css/main.css'
   ];
   
   self.addEventListener('install', event => {
     event.waitUntil(
       caches.open(CACHE_NAME)
         .then(cache => cache.addAll(urlsToCache))
     );
   });
   
   self.addEventListener('fetch', event => {
     event.respondWith(
       caches.match(event.request)
         .then(response => {
           return response || fetch(event.request);
         })
     );
   });
   ```

## üîí –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –£—è–∑–≤–∏–º–æ—Å—Ç—å XSS

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π JavaScript –∫–æ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã
- –ö—Ä–∞–∂–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ XSS
const userInput = '<script>alert("XSS")</script>';
console.log('User input contains script:', userInput.includes('<script>'));
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
   ```javascript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DOMPurify
   import DOMPurify from 'dompurify';
   
   const sanitizeInput = (input) => {
     return DOMPurify.sanitize(input);
   };
   
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React
   const SafeComponent = ({ content }) => {
     const sanitizedContent = sanitizeInput(content);
     return <div dangerouslySetInnerHTML={{ __html: sanitizedContent }} />;
   };
   ```

2. **CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏**
   ```nginx
   # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CSP
   add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self' https://api.normaldance.com;";
   add_header X-Content-Type-Options "nosniff";
   add_header X-Frame-Options "SAMEORIGIN";
   add_header X-XSS-Protection "1; mode=block";
   ```

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞**
   ```javascript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Zod –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   import { z } from 'zod';
   
   const userSchema = z.object({
     username: z.string().min(3).max(20).regex(/^[a-zA-Z0-9_]+$/),
     email: z.string().email(),
     password: z.string().min(8).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/)
   });
   
   const validateUser = (userData) => {
     return userSchema.parse(userData);
   };
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
   npm audit
   
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
   npm audit fix
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   docker scan normaldance:latest
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ê—Ç–∞–∫–∏ DDoS

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ rate limiting**
   ```nginx
   # Rate limiting –≤ Nginx
   limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
   limit_req_zone $binary_remote_addr zone=login:10m rate=1r/m;
   
   server {
     location /api/ {
       limit_req zone=api burst=20 nodelay;
       proxy_pass http://backend;
     }
     
     location /auth/login {
       limit_req zone=login burst=5 nodelay;
       proxy_pass http://backend;
     }
   }
   ```

2. **Cloudflare –∑–∞—â–∏—Ç–∞**
   ```javascript
   // –ü—Ä–æ–≤–µ—Ä–∫–∞ Cloudflare
   if ('cf' in window) {
     console.log('Cloudflare detected');
     console.log('Country:', cf.country);
     console.log('IP:', cf.ip);
     console.log('Threat score:', cf.threat.score);
   }
   ```

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–Ω–æ–º–∞–ª–∏–π**
   ```javascript
   // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   const monitorSuspiciousActivity = () => {
     const events = [];
     let lastEventTime = Date.now();
     
     window.addEventListener('click', (e) => {
       const currentTime = Date.now();
       if (currentTime - lastEventTime < 100) {
         events.push('rapid_clicks');
       }
       lastEventTime = currentTime;
     });
     
     setInterval(() => {
       if (events.length > 50) {
         reportSuspiciousActivity('rapid_clicks', events.length);
       }
       events.length = 0;
     }, 5000);
   };
   ```

4. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ IP –∞–¥—Ä–µ—Å–æ–≤**
   ```bash
   # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ IP –∞–¥—Ä–µ—Å–æ–≤
   iptables -A INPUT -s 192.168.1.100 -j DROP
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö IP
   iptables -L -n -v
   
   # –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª
   iptables -F
   ```

## üöÄ –ü—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Docker

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `docker build`
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Dockerfile**
   ```dockerfile
   # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Dockerfile
   FROM node:18-alpine AS base
   
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   FROM base AS deps
   RUN apk add --no-cache libc6-compat
   WORKDIR /app
   
   COPY package.json package-lock.json* ./
   RUN npm ci --only=production
   
   # –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   FROM base AS builder
   WORKDIR /app
   COPY --from=deps /app/node_modules ./node_modules
   COPY . .
   
   # –°–±–æ—Ä–∫–∞
   RUN npm run build
   
   # Production image
   FROM base AS runner
   WORKDIR /app
   
   ENV NODE_ENV=production
   ENV PORT=3000
   
   RUN addgroup --system --gid 1001 nodejs
   RUN adduser --system --uid 1001 nextjs
   
   COPY --from=builder /app/public ./public
   COPY --from=builder /app/.next/standalone ./
   COPY --from=builder /app/.next/static ./.next/static
   
   USER nextjs
   
   EXPOSE 3000
   
   ENV PORT=3000
   
   CMD ["node", "server.js"]
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏**
   ```bash
   # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
   docker build -t normaldance:latest .
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
   docker images | grep normaldance
   
   # –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker run -p 3000:3000 normaldance:latest
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–±–æ—Ä–∫–∏
   docker build --no-cache --progress=plain . 2>&1 | tee build.log
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker logs normaldance-container
   ```

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ build cache
   docker build --target=builder --build-arg NODE_ENV=production .
   
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ multi-stage builds
   docker build --target=runner .
   
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ docker-compose
   docker-compose up --build
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ Kubernetes —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∞ CrashLoopBackOff
- –û—à–∏–±–∫–∞ ImagePullBackOff

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–æ–≤**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–æ–≤
   kubectl get pods -n normaldance
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π
   kubectl get events -n normaldance
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   kubectl logs -n normaldance pod-name
   kubectl logs -n normaldance pod-name --previous
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   ```yaml
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   apiVersion: apps/v1
   kind: Deployment
   metadata:
     name: normaldance
     namespace: normaldance
   spec:
     replicas: 3
     selector:
       matchLabels:
         app: normaldance
     template:
       metadata:
         labels:
           app: normaldance
       spec:
         containers:
         - name: normaldance
           image: normaldance:latest
           ports:
           - containerPort: 3000
           env:
           - name: NODE_ENV
             value: "production"
           - name: DATABASE_URL
             valueFrom:
               secretKeyRef:
                 name: database-secret
                 key: url
           resources:
             requests:
               memory: "256Mi"
               cpu: "250m"
             limits:
               memory: "512Mi"
               cpu: "500m"
           livenessProbe:
             httpGet:
               path: /api/health
               port: 3000
             initialDelaySeconds: 30
             periodSeconds: 10
           readinessProbe:
             httpGet:
               path: /api/health
               port: 3000
             initialDelaySeconds: 5
             periodSeconds: 5
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
   kubectl describe pod -n normaldance pod-name
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
   kubectl get resourcequota -n normaldance
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
   kubectl get limitrange -n normaldance
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
   kubectl get svc -n normaldance
   kubectl get endpoints -n normaldance
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–µ—Ç–∏
   kubectl get networkpolicy -n normaldance
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
   kubectl exec -n normaldance pod-name -- nslookup normaldance-api
   ```

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **Email:** support@normaldance.com
- **–¢–µ–ª–µ—Ñ–æ–Ω:** +7 (495) 123-45-67
- **–ß–∞—Ç:** Live Chat –Ω–∞ —Å–∞–π—Ç–µ
- **Telegram:** @normaldance_support

### DevOps –∫–æ–º–∞–Ω–¥–∞
- **Email:** devops@normaldance.com
- **Slack:** #devops-issues
- **PagerDuty:** –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤

### –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Email:** dev@normaldance.com
- **Slack:** #dev-issues
- **GitHub Issues:** https://github.com/normaldance/normaldance/issues

### –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:** https://status.normaldance.com
- **Grafana:** https://grafana.normaldance.com
- **Prometheus:** https://prometheus.normaldance.com

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.normaldance.com)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://api.normaldance.com/docs)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ](https://docs.normaldance.com/development)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- [GitHub](https://github.com/normaldance/normaldance)
- [Docker Hub](https://hub.docker.com/r/normaldance/normaldance)
- [Kubernetes Charts](https://github.com/normaldance/helm-charts)

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- [Discord](https://discord.gg/normaldance)
- [Telegram](https://t.me/normaldance)
- [Twitter](https://twitter.com/normaldance)

---

**–°–æ–∑–¥–∞–Ω–æ:** –°–µ–Ω—Ç—è–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è:** v1.0.1
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –°–µ–Ω—Ç—è–±—Ä—å 2025
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Support Lead - –°–º–∏—Ä–Ω–æ–≤ –ê.–í.