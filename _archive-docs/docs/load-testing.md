
# üöÄ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ NORMAL DANCE

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NormalDance –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π.

## üìä –¶–µ–ª–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏
- **–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—É—é —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
- **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç**: –í—ã—è–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
- **–û—Ü–µ–Ω–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ acceptable –ø—Ä–µ–¥–µ–ª–∞—Ö

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ (Response Time)**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (Throughput)**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (Resource Usage)**: CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫, —Å–µ—Ç—å
- **–û—à–∏–±–∫–∏ (Error Rate)**: –ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (Transaction Rate)**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (Peak Load)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤–æ –≤—Ä–µ–º—è –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫, –∫–æ–≥–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–Ω–ª–∞–π–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: 10,000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞**: 30 –º–∏–Ω—É—Ç
- **–ü–∞—Ç—Ç–µ—Ä–Ω –Ω–∞–≥—Ä—É–∑–∫–∏**: –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- **–¢–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤**:
  - –ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∏: 40%
  - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤: 30%
  - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 15%
  - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: 15%

#### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞: < 2 —Å–µ–∫—É–Ω–¥—ã
- –û—à–∏–±–∫–∏: < 0.1%
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU: < 70%
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: < 80%

### 2. –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Stress Testing)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ, –ø—Ä–µ–≤—ã—à–∞—é—â–µ–π –æ–∂–∏–¥–∞–µ–º—É—é –ø–∏–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É, –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: 15,000 - 50,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞**: 60 –º–∏–Ω—É—Ç
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –Ω–∞–≥—Ä—É–∑–∫–∏**: +1,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–¢–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤**: –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (Endurance Testing)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: 5,000 –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞**: 24 —á–∞—Å–∞
- **–ü–∞—Ç—Ç–µ—Ä–Ω –Ω–∞–≥—Ä—É–∑–∫–∏**: –í–æ–ª–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π (–ø–∏–∫–∏ –∏ —Å–ø–∞–¥—ã)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

#### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∞–π–∫–æ–≤ (Spike Testing)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —Ä–µ–∑–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ë–∞–∑–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 1,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∏–∫–∞**: 5 –º–∏–Ω—É—Ç
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: 10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø–∏–∫–∞

#### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–∏–∫–∞
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤–æ –≤—Ä–µ–º—è –ø–∏–∫–∞
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
|------------|------------|--------|
| **k6** | –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API | v0.47.0 |
| **Locust** | –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | v2.29.1 |
| **JMeter** | –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | v5.6.3 |
| **Grafana** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ | v11.0.0 |
| **Prometheus** | –°–±–æ—Ä –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ | v2.47.2 |
| **ELK Stack** | –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ | v8.11.0 |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã**: 10x c5.2xlarge (AWS)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 15.0 —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π
- **–ö—ç—à**: Redis 7.0.11 –∫–ª–∞—Å—Ç–µ—Ä
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫**: AWS ALB
- **CDN**: CloudFront

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

### k6 —Ç–µ—Å—Ç –¥–ª—è API
```javascript
// load-tests/api-test.js
import http from 'k6/http';
import { check, sleep } from 'k6';
import { Rate, Counter, Trend } from 'k6/metrics';

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
export let errorRate = new Rate('errors');
export let loginCounter = new Counter('logins_total');
export let searchTrend = new Trend('search_duration');

export let options = {
  stages: [
    { duration: '2m', target: 1000 },   // –ù–∞–≥—Ä—É–∑–∫–∞ –¥–æ 1,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    { duration: '5m', target: 5000 },   // –ù–∞–≥—Ä—É–∑–∫–∞ –¥–æ 5,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    { duration: '10m', target: 10000 }, // –ù–∞–≥—Ä—É–∑–∫–∞ –¥–æ 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    { duration: '5m', target: 5000 },   // –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
    { duration: '2m', target: 0 },      // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–∞
  ],
  thresholds: {
    http_req_duration: ['p(95)<2000'], // 95% –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ 2 —Å–µ–∫—É–Ω–¥
    http_req_failed: ['rate<0.001'],   // –ú–µ–Ω—å—à–µ 0.1% –æ—à–∏–±–æ–∫
  },
};

const BASE_URL = 'https://api.normaldance.com';
const SEARCH_WEIGHT = 0.4;
const PLAY_WEIGHT = 0.3;
const PROFILE_WEIGHT = 0.15;
const SOCIAL_WEIGHT = 0.15;

export default function () {
  // –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏
  let operation = Math.random();
  
  if (operation < SEARCH_WEIGHT) {
    // –ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∏
    searchMusic();
  } else if (operation < SEARCH_WEIGHT + PLAY_WEIGHT) {
    // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞
    playTrack();
  } else if (operation < SEARCH_WEIGHT + PLAY_WEIGHT + PROFILE_WEIGHT) {
    // –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    userProfile();
  } else {
    // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    socialFeatures();
  }
  
  sleep(1); // –ò–º–∏—Ç–∞—Ü–∏—è –ø–∞—É–∑—ã –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

function searchMusic() {
  const response = http.get(`${BASE_URL}/api/search?q=test&type=track`);
  searchTrend.add(response.timings.duration);
  check(response, {
    'search status is 200': (r) => r.status === 200,
    'search response time < 1000ms': (r) => r.timings.duration < 1000,
  });
  errorRate.add(response.status !== 200);
}

function playTrack() {
  const trackId = Math.floor(Math.random() * 10000) + 1;
  const response = http.post(`${BASE_URL}/api/playback/play`, JSON.stringify({
    trackId: trackId,
    userId: __VU.toString()
  }), {
    headers: { 'Content-Type': 'application/json' },
  });
  check(response, {
    'play status is 200': (r) => r.status === 200,
    'play response time < 500ms': (r) => r.timings.duration < 500,
  });
  errorRate.add(response.status !== 200);
}

function userProfile() {
  const userId = Math.floor(Math.random() * 10000) + 1;
  const response = http.get(`${BASE_URL}/api/users/${userId}/profile`);
  check(response, {
    'profile status is 200': (r) => r.status === 200,
    'profile response time < 500ms': (r) => r.timings.duration < 500,
  });
  errorRate.add(response.status !== 200);
}

function socialFeatures() {
  const operations = ['like', 'follow', 'comment'];
  const operation = operations[Math.floor(Math.random() * operations.length)];
  const userId = Math.floor(Math.random() * 10000) + 1;
  const targetId = Math.floor(Math.random() * 10000) + 1;
  
  const response = http.post(`${BASE_URL}/api/social/${operation}`, JSON.stringify({
    userId: userId,
    targetId: targetId
  }), {
    headers: { 'Content-Type': 'application/json' },
  });
  
  check(response, {
    'social status is 200': (r) => r.status === 200,
    'social response time < 500ms': (r) => r.timings.duration < 500,
  });
  errorRate.add(response.status !== 200);
}
```

### Locust —Ç–µ—Å—Ç –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```python
# load-tests/web_test.py
from locust import HttpUser, task, between, events
import random
import json

class NormalDanceUser(HttpUser):
    wait_time = between(1, 5)
    host = "https://normaldance.com"
    
    def on_start(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ"""
        self.user_id = random.randint(1, 10000)
        self.session_token = None
        self.login()
    
    def login(self):
        """–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        response = self.client.post("/api/auth/login", json={
            "email": f"user{self.user_id}@example.com",
            "password": "password123"
        })
        if response.status_code == 200:
            self.session_token = response.json().get("token")
    
    @task(40)
    def search_music(self):
        """–ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∏"""
        with self.client.get(f"/api/search?q=test&type=track", catch_response=True) as response:
            if response.status_code != 200:
                response.failure(f"Search failed with status {response.status_code}")
    
    @task(30)
    def play_track(self):
        """–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞"""
        track_id = random.randint(1, 10000)
        with self.client.post("/api/playback/play", json={
            "trackId": track_id,
            "userId": self.user_id
        }, catch_response=True) as response:
            if response.status_code != 200:
                response.failure(f"Play failed with status {response.status_code}")
    
    @task(15)
    def user_profile(self):
        """–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        with self.client.get(f"/api/users/{self.user_id}/profile", catch_response=True) as response:
            if response.status_code != 200:
                response.failure(f"Profile failed with status {response.status_code}")
    
    @task(15)
    def social_features(self):
        """–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏"""
        operations = ['like', 'follow', 'comment']
        operation = random.choice(operations)
        target_id = random.randint(1, 10000)
        
        with self.client.post(f"/api/social/{operation}", json={
            "userId": self.user_id,
            "targetId": target_id
        }, catch_response=True) as response:
            if response.status_code != 200:
                response.failure(f"Social {operation} failed with status {response.status_code}")

@events.init.add_listener
def on_locust_init(environment, **kwargs):
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
    if environment.web_ui:
        environment.web_ui.ctxmenu.append({
            'href': '/stats/overview',
            'text': 'Load Testing Dashboard'
        })
```

### JMeter —Ç–µ—Å—Ç –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
```xml
<!-- load-tests/comprehensive-test.jmx -->
<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0">
  <TestPlan>
    <Arguments>
      <Argument name="BASE_URL">https://api.normaldance.com</Argument>
      <Argument name="THREAD_COUNT">1000</Argument>
      <Argument name="RAMP_UP">300</Argument>
      <Argument name="DURATION">1800</Argument>
    </Arguments>
    
    <ThreadGroup>
      <Name>NormalDance Load Test</Name>
      <Arguments>
        <Argument name="THREAD_COUNT">${THREAD_COUNT}</Argument>
        <Argument name="RAMP_UP">${RAMP_UP}</Argument>
        <Argument name="DURATION">${DURATION}</Argument>
      </Arguments>
      
      <Sampler>
        <Name>Login</Name>
        <Arguments>
          <Argument name="URL">${BASE_URL}/api/auth/login</Argument>
          <Argument name="METHOD">POST</Argument>
          <Argument name="HEADERS">Content-Type: application/json</Argument>
          <Argument name="BODY">{"email": "user${__threadNum}@example.com", "password": "password123"}</Argument>
        </Arguments>
      </Sampler>
      
      <TransactionController>
        <Name>User Journey</Name>
        
        <ThroughputTimer>
          <Name>Think Time</Name>
          <Arguments>
            <Argument name="DURATION">1000-5000</Argument>
          </Arguments>
        </ThroughputTimer>
        
        <Sampler>
          <Name>Search Music</Name>
          <Arguments>
            <Argument name="URL">${BASE_URL}/api/search?q=test&type=track</Argument>
            <Argument name="METHOD">GET</Argument>
          </Arguments>
        </Sampler>
        
        <ThroughputTimer>
          <Name>Think Time</Name>
          <Arguments>
            <Argument name="DURATION">500-2000</Argument>
          </Arguments>
        </ThroughputTimer>
        
        <Sampler>
          <Name>Play Track</Name>
          <Arguments>
            <Argument name="URL">${BASE_URL}/api/playback/play</Argument>
            <Argument name="METHOD">POST</Argument>
            <Argument name="HEADERS">Content-Type: application/json</Argument>
            <Argument name="BODY">{"trackId": ${__Random(1,10000)}, "userId": ${__threadNum}}</Argument>
          </Arguments>
        </Sampler>
        
        <ThroughputTimer>
          <Name>Think Time</Name>
          <Arguments>
            <Argument name="DURATION">1000-3000</Argument>
          </Arguments>
        </ThroughputTimer>
        
        <Sampler>
          <Name>User Profile