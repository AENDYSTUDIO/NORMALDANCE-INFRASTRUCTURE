# Отчет о проверке безопасности: Потенциальные утечки секретов

## Обзор

При сканировании проекта с помощью скрипта `scripts/check-hardcoded-secrets.js` были обнаружены 15 потенциальных утечек секретов в различных файлах проекта.

## Найденные утечки

### 1. docs/api.md (строка 1158)

- Совпадение: `"token": "push_notification_token"`
- Тип: API токен
- Оценка: Вероятно, это фиктивное значение, но стоит проверить

### 2. docs/qdrant-integration.md (строка 40)

- Совпадение: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.cdp7oLdFxWAKRbclaqCCZQMzixNWXqOuWi324JgwdF4`
- Тип: JWT токен
- Оценка: Высокий риск - реальный JWT токен в документации

### 3. docs/wiki/API-Documentation.md (строка 126)

- Совпадение: `7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU`
- Тип: API ключ
- Оценка: Высокий риск - реальный API ключ в документации

### 4. mobile-app/src/services/mobileService.ts (строка 204)

- Совпадение: `7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU`
- Тип: API ключ
- Оценка: Высокий риск - реальный API ключ в исходном коде мобильного приложения

### 5. scripts/deploy-grave-quick.js (строка 26)

- Совпадение: `9aa3d95b3bc440fa88ea12eaa4456161`
- Тип: Хеш/токен
- Оценка: Средний риск - может быть тестовым значением

### 6. scripts/deploy-grave-quick.js (строка 57)

- Совпадение: `0123456789abcdef0123456789abcdef01234567`
- Тип: Хеш/токен
- Оценка: Средний риск - может быть тестовым значением

### 7. scripts/deploy-grave-quick.js (строка 57)

- Совпадение: `0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef`
- Тип: Длинный хеш/токен
- Оценка: Средний риск - может быть тестовым значением

### 8. src/lib/qdrant-config.ts (строка 7)

- Совпадение: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.cdp7oLdFxWAKRbclaqCCZQMzixNWXqOuWi324JgwdF4`
- Тип: JWT токен
- Оценка: Высокий риск - реальный JWT токен в конфигурационном файле

### 9. tesseract/src/training/CMakeLists.txt (строка 42)

- Совпадение: `45167a240b60e36b59a87eda23490ce4`
- Тип: Хеш
- Оценка: Низкий риск - вероятно, хеш файла или зависимостей

### 10. tesseract/src/training/CMakeLists.txt (строка 44)

- Совпадение: `480c72491576c048de1218c3c5519399`
- Тип: Хеш
- Оценка: Низкий риск - вероятно, хеш файла или зависимостей

### 11. tests/grave/grave-api.test.js (строка 70)

- Совпадение: `1234567890abcdef1234567890abcdef12345678`
- Тип: Хеш/токен
- Оценка: Средний риск - тестовые значения должны быть фиктивными

### 12. tests/integration/integration.test.ts (строка 11)

- Совпадение: `1234567890123456789012345678901234567890`
- Тип: Хеш/токен
- Оценка: Средний риск - тестовые значения должны быть фиктивными

### 13. tests/integration/integration.test.ts (строка 72)

- Совпадение: `0987654321098765432109876543210987654321`
- Тип: Хеш/токен
- Оценка: Средний риск - тестовые значения должны быть фиктивными

### 14. tests/integration/integration.test.ts (строка 114)

- Совпадение: `abcdefabcdefabcdefabcdefabcdefabcdefabcd`
- Тип: Хеш/токен
- Оценка: Средний риск - тестовые значения должны быть фиктивными

### 15. tests/security/security.test.ts (строка 31)

- Совпадение: `1111111112`
- Тип: Хеш/токен
- Оценка: Средний риск - тестовые значения должны быть фиктивными

## Рекомендации по устранению

### Высокий приоритет:

1. Удалить реальные JWT токены из `docs/qdrant-integration.md` и `src/lib/qdrant-config.ts`
2. Заменить реальные API ключи в документации и мобильном приложении на фиктивные значения
3. Пересмотреть политику хранения секретов в документации

### Средний приоритет:

1. Заменить все тестовые значения в файлах тестов на фиктивные
2. Внедрить систему управления секретами для тестовой среды
3. Обновить скрипты развертывания, чтобы использовать переменные окружения

### Низкий приоритет:

1. Проверить, действительно ли хеши в CMakeLists.txt являются безопасными

## Заключение

Скрипт проверки секретов успешно отфильтровал большинство ложных срабатываний, сосредоточившись на реальных потенциальных утечках. Рекомендуется срочно устранить утечки с высоким приоритетом, особенно те, что касаются реальных токенов и ключей API, которые попали в репозиторий.
