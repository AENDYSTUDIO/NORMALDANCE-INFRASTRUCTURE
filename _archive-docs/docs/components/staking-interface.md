# üí∞ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–µ–π–∫–∏–Ω–≥–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## –û–±–∑–æ—Ä

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `StakingInterface` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞ —Ç–æ–∫–µ–Ω–æ–≤ NDT —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏, —Ä–∞—Å—á–µ—Ç–æ–º –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **5 —Ç–∏–ø–æ–≤ —Å—Ç–µ–π–∫–∏–Ω–≥–∞**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –ü–ª–∞–≤–∞—é—â–∏–π, –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, NFT, –¢–∏—Ä—ã
- **–†–µ–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏** —Å —É—á–µ—Ç–æ–º —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∏ –¥–µ—Ñ–ª—è—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ (2% burn)
- **–ê–≤—Ç–æ–∫–æ–º–ø–∞—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π —á–∞—Å—Ç–æ—Ç–æ–π (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞** —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ APY –∏ –æ–±—ä–µ–º–∞ —Ç–æ—Ä–≥–æ–≤
- **–†–∞–Ω–∂–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—É–ª–∞
- **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ä–∏—Å–∫–∞—Ö** –∏ –∫–æ–º–∏—Å—Å–∏–∏

### –¢–∏–ø—ã —Å—Ç–µ–π–∫–∏–Ω–≥–∞
1. **üîí –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å 15% APY –Ω–∞ 30-365 –¥–Ω–µ–π
2. **üìä –ü–ª–∞–≤–∞—é—â–∏–π** - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—É–ª–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
3. **üíß –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –¥–ª—è DEX
4. **üé® NFT** - —Å—Ç–µ–π–∫–∏–Ω–≥ NFT –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
5. **üèÜ –¢–∏—Ä—ã** - —Å—Ç–µ–π–∫–∏–Ω–≥ —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π

## API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### Props
```typescript
interface StakingInterfaceProps {
  className?: string
  userId?: string
  defaultTab?: 'fixed' | 'floating' | 'liquidity' | 'nft' | 'tiers'
  showAnalytics?: boolean
  compact?: boolean
  onStake?: (data: StakeData) => void
  onUnstake?: (data: UnstakeData) => void
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```typescript
interface StakeData {
  amount: number
  type: 'fixed' | 'floating' | 'liquidity' | 'nft' | 'tiers'
  duration?: number // –≤ –¥–Ω—è—Ö
  compoundFrequency?: 'daily' | 'weekly' | 'monthly'
  nftId?: string
  tier?: number
  autoCompound: boolean
}

interface UnstakeData {
  amount: number
  type: 'fixed' | 'floating' | 'liquidity' | 'nft' | 'tiers'
  earlyUnstake: boolean
  penalty?: number
}

interface StakingPool {
  id: string
  name: string
  type: 'fixed' | 'floating' | 'liquidity' | 'nft' | 'tiers'
  apy: number
  minAmount: number
  maxAmount: number
  duration: number
  totalStaked: number
  totalStakers: number
  myStake: number
  myRewards: number
  nextReward: string
  isAvailable: boolean
  riskLevel: 'low' | 'medium' | 'high'
  description: string
  features: string[]
  requirements: string[]
}

interface StakingAnalytics {
  totalStaked: number
  totalRewards: number
  apyHistory: Array<{
    date: string
    apy: number
  }>
  volumeHistory: Array<{
    date: string
    volume: number
  }>
  userRank: number
  totalUsers: number
  myContribution: number
  myShare: number
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```tsx
import { StakingInterface } from '@/components/staking/staking-interface'

function MyComponent() {
  return (
    <div className="p-6">
      <h2>–°—Ç–µ–π–∫–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤</h2>
      <StakingInterface />
    </div>
  )
}
```

### –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø—Ä–æ–ø—Å–∞–º–∏
```tsx
import { StakingInterface } from '@/components/staking/staking-interface'

function MyComponent() {
  const handleStake = (data: StakeData) => {
    console.log('–°—Ç–µ–π–∫–∏–Ω–≥:', data)
    // –ª–æ–≥–∏–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
  }

  const handleUnstake = (data: UnstakeData) => {
    console.log '–ê–Ω—Å—Ç–µ–π–∫–∏–Ω–≥:', data)
    // –ª–æ–≥–∏–∫–∞ –∞–Ω—Å—Ç–µ–π–∫–∏–Ω–≥–∞
  }

  return (
    <StakingInterface
      userId="user123"
      defaultTab="fixed"
      showAnalytics={true}
      onStake={handleStake}
      onUnstake={handleUnstake}
      className="custom-styling"
    />
  )
}
```

### –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º
```tsx
import { StakingInterface } from '@/components/staking/staking-interface'

function Sidebar() {
  return (
    <div className="w-80">
      <StakingInterface
        compact={true}
        defaultTab="floating"
      />
    </div>
  )
}
```

## –ú–µ—Ç–æ–¥—ã

### calculateStakingRewards()
–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å —Å—Ç–µ–π–∫–∏–Ω–≥–∞.

```typescript
const rewards = await calculateStakingRewards(params)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
interface StakingCalculationParams {
  amount: number
  type: 'fixed' | 'floating' | 'liquidity' | 'nft' | 'tiers'
  duration?: number
  compoundFrequency?: 'daily' | 'weekly' | 'monthly'
  currentApy?: number
  tokenPrice?: number
}
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<StakingRewards>`

### getStakingPools()
–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—É–ª–∞—Ö —Å—Ç–µ–π–∫–∏–Ω–≥–∞.

```typescript
const pools = await getStakingPools()
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<StakingPool[]>`

### getUserStakingData()
–ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç–µ–π–∫–∏–Ω–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```typescript
const data = await getUserStakingData(userId)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `userId: string` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Promise<UserStakingData>`

## –°—Ç–∏–ª–∏

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Tailwind CSS –∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:
- `.staking-interface` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `.staking-pool` - –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—É–ª–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- `.staking-tab` - –≤–∫–ª–∞–¥–∫–∞ —Ç–∏–ø–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- `.staking-analytics` - –±–ª–æ–∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `.staking-rewards` - –±–ª–æ–∫ —Ä–∞—Å—á–µ—Ç–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ—à–µ–ª—å–∫–æ–º
```tsx
import { StakingInterface } from '@/components/staking/staking-interface'
import { useWallet } from '@/components/wallet/wallet-adapter'

function StakingPage() {
  const { connected, balance, publicKey } = useWallet()
  const [userId, setUserId] = useState<string>()

  useEffect(() => {
    if (publicKey) {
      setUserId(publicKey.toString())
    }
  }, [publicKey])

  if (!connected) {
    return (
      <div className="text-center p-8">
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞</p>
        <button onClick={connectWallet}>–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫</button>
      </div>
    )
  }

  return (
    <StakingInterface
      userId={userId}
      onStake={async (data) => {
        // –ü–æ–¥–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        const signature = await stakeTokens(data)
        console.log('–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–∞–Ω–∞:', signature)
      }}
    />
  )
}
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
```tsx
import { StakingInterface, useStakingCalculator } from '@/components/staking/staking-interface'

function CustomStakingCalculator() {
  const { amount, duration, type, rewards, calculate } = useStakingCalculator()

  return (
    <div className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label>–°—É–º–º–∞ (NDT)</label>
          <input
            type="number"
            value={amount}
            onChange={(e) => setAmount(Number(e.target.value))}
            min="100"
          />
        </div>
        
        <div>
          <label>–¢–∏–ø —Å—Ç–µ–π–∫–∏–Ω–≥–∞</label>
          <select value={type} onChange={(e) => setType(e.target.value)}>
            <option value="fixed">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
            <option value="floating">–ü–ª–∞–≤–∞—é—â–∏–π</option>
            <option value="liquidity">–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å</option>
            <option value="nft">NFT</option>
            <option value="tiers">–¢–∏—Ä—ã</option>
          </select>
        </div>
        
        <div>
          <label>–°—Ä–æ–∫ (–¥–Ω–µ–π)</label>
          <input
            type="number"
            value={duration}
            onChange={(e) => setDuration(Number(e.target.value))}
            min="30"
            max="365"
          />
        </div>
      </div>

      <button onClick={calculate}>–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</button>

      {rewards && (
        <div className="bg-white p-6 rounded-lg shadow">
          <h3>–†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏</h3>
          <div className="grid grid-cols-2 gap-4">
            <div>
              <p>APY: {rewards.apy}%</p>
              <p>–û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: {rewards.totalRewards} NDT</p>
            </div>
            <div>
              <p>–ü–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏: {rewards.netRewards} NDT</p>
              <p>–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ USD: ${rewards.usdValue}</p>
            </div>
          </div>
          
          {rewards.compoundEffect && (
            <div className="mt-4">
              <p>–≠—Ñ—Ñ–µ–∫—Ç —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞: +{rewards.compoundEffect} NDT</p>
            </div>
          )}
        </div>
      )}
    </div>
  )
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ —Å –∞–≤—Ç–æ–∫–æ–º–ø–∞—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
```tsx
import { StakingInterface } from '@/components/staking/staking-interface'
import { toast } from 'react-hot-toast'

function AdvancedStakingPage() {
  const handleStake = async (data: StakeData) => {
    try {
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
      const balance = await getTokenBalance('NDT')
      if (balance < data.amount) {
        throw new Error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤')
      }

      // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
      const transaction = await prepareStakingTransaction(data)
      
      // –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
      const signature = await signTransaction(transaction)
      
      // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
      const result = await sendTransaction(signature)
      
      if (result.success) {
        toast.success(`‚úÖ –°—Ç–µ–π–∫–∏–Ω–≥ ${data.amount} NDT —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω!`)
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        updateStakingData()
        
        // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–∫–æ–º–ø–∞—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
        if (data.autoCompound) {
          setupAutoCompound(data)
        }
      } else {
        throw new Error(result.error)
      }
    } catch (error) {
      toast.error(`‚ùå –û—à–∏–±–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞: ${error.message}`)
    }
  }

  return (
    <StakingInterface
      onStake={handleStake}
      showAnalytics={true}
    />
  )
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react'
import { StakingInterface } from '@/components/staking/staking-interface'

describe('StakingInterface', () => {
  const mockPools = [
    {
      id: '1',
      name: '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–µ–π–∫–∏–Ω–≥',
      type: 'fixed',
      apy: 15,
      minAmount: 1000,
      maxAmount: 100000,
      duration: 30,
      totalStaked: 500000,
      totalStakers: 100,
      myStake: 5000,
      myRewards: 62.5,
      isAvailable: true,
      riskLevel: 'low'
    }
  ]

  beforeEach(() => {
    jest.spyOn(window, 'fetch').mockImplementationOnce(() =>
      Promise.resolve({
        json: () => Promise.resolve(mockPools)
      } as Response)
    )
  })

  it('renders staking pools', async () => {
    render(<StakingInterface />)
    
    await waitFor(() => {
      expect(screen.getByText('–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–µ–π–∫–∏–Ω–≥')).toBeInTheDocument()
      expect(screen.getByText('15% APY')).toBeInTheDocument()
    })
  })

  it('switches between staking types', async () => {
    render(<StakingInterface />)
    
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–ª–∞–≤–∞—é—â–∏–π —Å—Ç–µ–π–∫–∏–Ω–≥
    fireEvent.click(screen.getByText('–ü–ª–∞–≤–∞—é—â–∏–π'))
    
    await waitFor(() => {
      expect(screen.getByText('–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å')).toBeInTheDocument()
    })
  })

  it('calculates rewards correctly', async () => {
    render(<StakingInterface />)
    
    await waitFor(() => {
      const amountInput = screen.getByLabelText('–°—É–º–º–∞')
      fireEvent.change(amountInput, { target: { value: '1000' } })
      
      expect(screen.getByText('62.5 NDT')).toBeInTheDocument()
    })
  })

  it('shows insufficient balance warning', async () => {
    render(<StakingInterface />)
    
    await waitFor(() => {
      const amountInput = screen.getByLabelText('–°—É–º–º–∞')
      fireEvent.change(amountInput, { target: { value: '1000000' } })
      
      expect(screen.getByText('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤')).toBeInTheDocument()
    })
  })
})
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```tsx
import { render, screen, waitFor } from '@testing-library/react'
import { StakingInterface } from '@/components/staking/staking-interface'
import { mockWallet } from '__mocks__/wallet'

describe('StakingInterface Integration', () => {
  beforeEach(() => {
    // –ú–æ–∫ API –≤—ã–∑–æ–≤–æ–≤
    jest.spyOn(window, 'fetch')
      .mockImplementationOnce(() =>
        Promise.resolve({
          json: () => Promise.resolve(mockPools)
        } as Response)
      )
      .mockImplementationOnce(() =>
        Promise.resolve({
          json: () => Promise.resolve({ balance: 10000 })
        } as Response)
      )
  })

  it('handles staking transaction flow', async () => {
    render(<StakingInterface />)
    
    // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å—Ç–µ–π–∫–∏–Ω–≥–∞
    await waitFor(() => {
      const amountInput = screen.getByLabelText('–°—É–º–º–∞')
      fireEvent.change(amountInput, { target: { value: '1000' } })
      
      const stakeButton = screen.getByRole('button', { name: /–∑–∞—Å—Ç–µ–π–∫–∏—Ç—å/i })
      fireEvent.click(stakeButton)
    })
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
    expect(mockWallet.signTransaction).toHaveBeenCalled()
  })

  it('displays analytics data', async () => {
    render(<StakingInterface showAnalytics={true} />)
    
    await waitFor(() => {
      expect(screen.getByText('–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞')).toBeInTheDocument()
      expect(screen.getByText('–û–±—â–∏–π –æ–±—ä–µ–º —Å—Ç–µ–π–∫–∏–Ω–≥–∞')).toBeInTheDocument()
    })
  })
})
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –¥–∞–Ω–Ω—ã—Ö –æ –ø—É–ª–∞—Ö
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- **–î–µ–±–∞—É–Ω—Å–∏–Ω–≥** –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `compact` —Ä–µ–∂–∏–º –¥–ª—è –±–æ–∫–æ–≤—ã—Ö –ø–∞–Ω–µ–ª–µ–π
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø—É–ª–∞—Ö
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `React.memo` –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1. **–†–∞—Å—á–µ—Ç—ã –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞ APY
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—á—Ç–µ–Ω–∞ –¥–µ—Ñ–ª—è—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (2% burn)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å—á–µ—Ç —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞

2. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å—Ç–µ–π–∫–∏–Ω–≥–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –ø—É–ª–∞ —Å—Ç–µ–π–∫–∏–Ω–≥–∞

3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ userId –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ —Å—Ç–µ–π–∫–∏–Ω–≥–∞
```typescript
const stakingTypes = {
  fixed: {
    name: '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π',
    icon: 'üîí',
    color: 'blue',
    description: '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å 15% APY',
    minDuration: 30,
    maxDuration: 365,
    riskLevel: 'low'
  },
  floating: {
    name: '–ü–ª–∞–≤–∞—é—â–∏–π',
    icon: 'üìä',
    color: 'green',
    description: '–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—É–ª–∞',
    minDuration: 7,
    maxDuration: 90,
    riskLevel: 'medium'
  },
  liquidity: {
    name: '–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å',
    icon: 'üíß',
    color: 'cyan',
    description: '–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –¥–ª—è DEX',
    minDuration: 1,
    maxDuration: 30,
    riskLevel: 'high'
  },
  nft: {
    name: 'NFT',
    icon: 'üé®',
    color: 'purple',
    description: '–°—Ç–µ–π–∫–∏–Ω–≥ NFT –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤',
    minDuration: 0,
    maxDuration: 0,
    riskLevel: 'low'
  },
  tiers: {
    name: '–¢–∏—Ä—ã',
    icon: 'üèÜ',
    color: 'orange',
    description: '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π',
    minDuration: 30,
    maxDuration: 365,
    riskLevel: 'low'
  }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∏—Å—Å–∏–π
```typescript
const feeConfig = {
  staking: {
    fixed: 0.5, // 0.5%
    floating: 0.3,
    liquidity: 0.1,
    nft: 1.0,
    tiers: 0.2
  },
  earlyUnstake: {
    fixed: 2.0, // 2% –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∞–Ω—Å—Ç–µ–π–∫–∏–Ω–≥–µ
    floating: 1.0,
    liquidity: 0.5,
    nft: 0,
    tiers: 1.5
  },
  compound: {
    daily: 0.1, // 0.1% –∑–∞ –∞–≤—Ç–æ–∫–æ–º–ø–∞—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
    weekly: 0.05,
    monthly: 0.02
  }
}
```

## –í–µ—Ä—Å–∏—è

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 1.0.1

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-09-01

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ NORMAL DANCE –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ MIT License.