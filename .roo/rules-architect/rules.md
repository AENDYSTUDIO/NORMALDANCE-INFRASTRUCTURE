# Архитектурные правила для Roo code

## Общие принципы

- Следуйте критическим архитектурным паттернам из AGENTS.md
- Учитывайте масштабируемость и отказоустойчивость системы
- Применяйте принципы Web3 безопасности
- Соблюдайте роль-based access control (NextAuth)

## Специфические архитектурные требования NORMALDANCE

- Используйте кастомную серверную реализацию с Socket.IO интеграцией
- Следуйте шаблону глобального экземпляра базы данных (Prisma + SQLite)
- Применяйте 4-ступенчатую модель страхования для риск-менеджмента
- Используйте кастомную систему IPFS/Filecoin резервного копирования

## Модульная архитектура

- Разделяйте бизнес-логику и инфраструктурные компоненты
- Используйте чистую архитектуру с отделением зависимостей
- Следуйте принципу single responsibility для компонентов
- Обеспечьте лёгкость тестирования модулей

## Безопасность

- Всегда проверяйте входящие данные
- Применяйте защиту от DDoS и других атак
- Следуйте рекомендациям по безопасности из AGENTS.md
- Обрабатывайте ошибки без утечки информации
