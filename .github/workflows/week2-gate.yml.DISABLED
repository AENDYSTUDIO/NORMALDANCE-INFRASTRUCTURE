name: week2-gate
on:
  pull_request:
    branches: [main]
jobs:
  gate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check proprietary license
        run: grep -q "All rights reserved" LICENSE.md || exit 1
      - name: Check IP assignment exists
        run: test -f legal/IP-Assignment-SIGNED.pdf || exit 1
      - name: Check env vars
        run: |
          test -n "${{ secrets.STRIPE_SECRET_KEY }}" || exit 1
          test -n "${{ secrets.NEXT_PUBLIC_MIXPANEL_TOKEN }}" || exit 1

